==2276553== Memcheck, a memory error detector
==2276553== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==2276553== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==2276553== Command: ../decaf inputs/add.decaf
==2276553== 
==2276553== Invalid read of size 1
==2276553==    at 0x484F226: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x48D6D97: __printf_buffer (vfprintf-process-arg.c:435)
==2276553==    by 0x48FBD80: __vsnprintf_internal (vsnprintf.c:96)
==2276553==    by 0x48FBD80: vsnprintf (vsnprintf.c:103)
==2276553==    by 0x10F403: Error_throw_printf (main.c:30)
==2276553==    by 0x10A21E: parse_lit (p2-parser.c:323)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A8F3: parse_stmts (p2-parser.c:445)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==  Address 0x4acb5a4 is 4 bytes inside a block of size 272 free'd
==2276553==    at 0x484988F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F105: Token_free (token.c:62)
==2276553==    by 0x10A1FA: parse_lit (p2-parser.c:322)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A8F3: parse_stmts (p2-parser.c:445)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==    by 0x10AF28: parse_program (p2-parser.c:557)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==  Block was alloc'd at
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F072: Token_new (token.c:51)
==2276553==    by 0x10FB63: lex (p1-lexer.c:87)
==2276553==    by 0x10F5E3: main (main.c:95)
==2276553== 
==2276553== Invalid read of size 1
==2276553==    at 0x484F234: strlen (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x48D6D97: __printf_buffer (vfprintf-process-arg.c:435)
==2276553==    by 0x48FBD80: __vsnprintf_internal (vsnprintf.c:96)
==2276553==    by 0x48FBD80: vsnprintf (vsnprintf.c:103)
==2276553==    by 0x10F403: Error_throw_printf (main.c:30)
==2276553==    by 0x10A21E: parse_lit (p2-parser.c:323)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A8F3: parse_stmts (p2-parser.c:445)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==  Address 0x4acb5a5 is 5 bytes inside a block of size 272 free'd
==2276553==    at 0x484988F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F105: Token_free (token.c:62)
==2276553==    by 0x10A1FA: parse_lit (p2-parser.c:322)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A8F3: parse_stmts (p2-parser.c:445)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==    by 0x10AF28: parse_program (p2-parser.c:557)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==  Block was alloc'd at
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F072: Token_new (token.c:51)
==2276553==    by 0x10FB63: lex (p1-lexer.c:87)
==2276553==    by 0x10F5E3: main (main.c:95)
==2276553== 
==2276553== Invalid read of size 1
==2276553==    at 0x4852EE0: memmove (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x48CCD77: memcpy (string_fortified.h:29)
==2276553==    by 0x48CCD77: __printf_buffer_write (Xprintf_buffer_write.c:39)
==2276553==    by 0x48D550B: __printf_buffer (vfprintf-process-arg.c:501)
==2276553==    by 0x48FBD80: __vsnprintf_internal (vsnprintf.c:96)
==2276553==    by 0x48FBD80: vsnprintf (vsnprintf.c:103)
==2276553==    by 0x10F403: Error_throw_printf (main.c:30)
==2276553==    by 0x10A21E: parse_lit (p2-parser.c:323)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A8F3: parse_stmts (p2-parser.c:445)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==  Address 0x4acb5a4 is 4 bytes inside a block of size 272 free'd
==2276553==    at 0x484988F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F105: Token_free (token.c:62)
==2276553==    by 0x10A1FA: parse_lit (p2-parser.c:322)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A8F3: parse_stmts (p2-parser.c:445)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==    by 0x10AF28: parse_program (p2-parser.c:557)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==  Block was alloc'd at
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F072: Token_new (token.c:51)
==2276553==    by 0x10FB63: lex (p1-lexer.c:87)
==2276553==    by 0x10F5E3: main (main.c:95)
==2276553== 
Invalid literal 'a' on line 5
a
Parsing Location
return
==2276553== 
==2276553== HEAP SUMMARY:
==2276553==     in use at exit: 2,216 bytes in 12 blocks
==2276553==   total heap usage: 1,736 allocs, 1,724 frees, 193,112 bytes allocated
==2276553== 
==2276553== 24 bytes in 1 blocks are definitely lost in loss record 1 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10DC68: NodeList_new (ast.c:44)
==2276553==    by 0x10AEF1: parse_program (p2-parser.c:553)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==    by 0x10F5F9: main (main.c:98)
==2276553== 
==2276553== 24 bytes in 1 blocks are definitely lost in loss record 2 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10DC68: NodeList_new (ast.c:44)
==2276553==    by 0x10AEFA: parse_program (p2-parser.c:554)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==    by 0x10F5F9: main (main.c:98)
==2276553== 
==2276553== 24 bytes in 1 blocks are definitely lost in loss record 3 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10DDB4: ParameterList_new (ast.c:45)
==2276553==    by 0x10AD7D: parse_funcdecl (p2-parser.c:526)
==2276553==    by 0x10AF28: parse_program (p2-parser.c:557)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==    by 0x10F5F9: main (main.c:98)
==2276553== 
==2276553== 272 bytes in 1 blocks are definitely lost in loss record 4 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10F072: Token_new (token.c:51)
==2276553==    by 0x10FD1B: lex (p1-lexer.c:102)
==2276553==    by 0x10F5E3: main (main.c:95)
==2276553== 
==2276553== 304 bytes in 1 blocks are definitely lost in loss record 10 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10DF9D: ASTNode_new (ast.c:61)
==2276553==    by 0x10EAEB: LiteralNode_new_int (ast.c:364)
==2276553==    by 0x10A0C3: parse_lit (p2-parser.c:296)
==2276553==    by 0x10A24C: parse_baseExpr (p2-parser.c:333)
==2276553==    by 0x10A33D: parse_unaryExpr (p2-parser.c:345)
==2276553==    by 0x10A35F: parse_binaryexpression (p2-parser.c:351)
==2276553==    by 0x10A3A3: parse_binaryexpression (p2-parser.c:361)
==2276553==    by 0x10A407: parse_expr (p2-parser.c:369)
==2276553==    by 0x10A654: parse_stmts (p2-parser.c:420)
==2276553==    by 0x10AC52: parse_block (p2-parser.c:497)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553== 
==2276553== 328 (24 direct, 304 indirect) bytes in 1 blocks are definitely lost in loss record 11 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10DC68: NodeList_new (ast.c:44)
==2276553==    by 0x10ABB4: parse_block (p2-parser.c:487)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==    by 0x10AF28: parse_program (p2-parser.c:557)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==    by 0x10F5F9: main (main.c:98)
==2276553== 
==2276553== 1,240 (24 direct, 1,216 indirect) bytes in 1 blocks are definitely lost in loss record 12 of 12
==2276553==    at 0x484D953: calloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==2276553==    by 0x10DC68: NodeList_new (ast.c:44)
==2276553==    by 0x10ABBD: parse_block (p2-parser.c:488)
==2276553==    by 0x10AE9E: parse_funcdecl (p2-parser.c:542)
==2276553==    by 0x10AF28: parse_program (p2-parser.c:557)
==2276553==    by 0x10AFB9: parse (p2-parser.c:574)
==2276553==    by 0x10F5F9: main (main.c:98)
==2276553== 
==2276553== LEAK SUMMARY:
==2276553==    definitely lost: 696 bytes in 7 blocks
==2276553==    indirectly lost: 1,520 bytes in 5 blocks
==2276553==      possibly lost: 0 bytes in 0 blocks
==2276553==    still reachable: 0 bytes in 0 blocks
==2276553==         suppressed: 0 bytes in 0 blocks
==2276553== 
==2276553== For lists of detected and suppressed errors, rerun with: -s
==2276553== ERROR SUMMARY: 10 errors from 10 contexts (suppressed: 0 from 0)
